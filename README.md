# Тестовое задание Python Developer: Сервис погоды

Веб-приложение для получения прогноза погоды по названию города. Пользователь вводит название города и получает прогноз погоды на ближайшие часы.

## Выполненные пункты задания

- ✅ Веб-приложение с вводом города и получением прогноза погоды
- ✅ Вывод данных о погоде в удобно читаемом формате
- ✅ Использован веб-фреймворк FastAPI
- ✅ Интеграция с API погоды open-meteo.com
- ✅ Написаны тесты
- ✅ Проект помещен в Docker-контейнер
- ✅ Реализовано автодополнение (подсказки) при вводе города
- ✅ При повторном посещении предлагается посмотреть погоду в городе, который пользователь смотрел ранее
- ✅ Сохраняется история поиска для каждого пользователя
- ✅ Реализовано API, показывающее статистику поиска городов

## Использованные технологии

- **FastAPI** - веб-фреймворк для создания API
- **SQLAlchemy** - ORM для работы с базой данных
- **PostgreSQL** - СУБД для хранения данных
- **Jinja2** - шаблонизатор для HTML
- **httpx** - HTTP-клиент для асинхронных запросов
- **pytest** - библиотека для тестирования
- **Docker** - контейнеризация приложения
- **Alembic** - миграции базы данных

## Запуск приложения

### Локальный запуск

1. Клонировать репозиторий
2. Создать виртуальное окружение и активировать его:
   ```
   python -m venv .venv
   .venv\Scripts\activate  # для Windows
   source .venv/bin/activate  # для Linux/Mac
   ```
3. Установить зависимости:
   ```
   pip install -r requirements.txt
   ```
4. Запустить приложение:
   ```
   python run.py
   ```
5. Открыть в браузере http://localhost:8000

### Запуск в Docker

1. Клонировать репозиторий
2. Запустить с помощью docker-compose:
   ```
   docker-compose up -d
   ```
3. Открыть в браузере http://localhost:8000

## API эндпоинты

- `GET /api/weather/search?q={query}` - поиск города по названию (автодополнение)
- `GET /api/weather/forecast?city={city}` - получение прогноза погоды для города
- `GET /api/weather/history` - получение истории поиска для текущего пользователя
- `GET /api/weather/stats` - получение статистики поиска городов (сколько раз вводили какой город)

## Тестирование

Для запуска тестов используйте:

```
pytest app/tests/
```